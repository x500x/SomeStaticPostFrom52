<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0"><title>å¸–å­å†…å®¹</title><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js></script><script>hljs.highlightAll();</script><style>*{word-wrap:break-word}body,html{margin:0;padding:0;width:93%;height:100%}.table-container{width:93vw;overflow-x:auto}table{margin:.25em auto;width:100%;max-width:100%;table-layout:auto;overflow:auto;border-spacing:0;border-collapse:collapse}table tr:nth-child(2n){background-color:#f6f8fa}table thead{background-color:#d9e2df}table th{font-weight:600}table tr{border-top:1px solid #c6cbd1}table td,table th{padding:6px 13px;border:1px solid #c6cbd1 text-align:center}pre{background-color:#F8F8F8;border:1px solid #CCCCCC;border-radius:3px;padding:2px;overflow-x:auto;width:100%;box-sizing:border-box}code{font-family:Consolas,Monaco,Andale Mono,monospace;background-color:#f5f5f5}pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{background:#000;color:#f8f8f8}.hljs-comment,.hljs-meta,.hljs-quote{color:#7c7c7c}.hljs-keyword,.hljs-name,.hljs-selector-tag,.hljs-tag{color:#96cbfe}.hljs-attribute,.hljs-selector-id{color:#ffffb6}.hljs-addition,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string{color:#a8ff60}.hljs-subst{color:#daefa3}.hljs-link,.hljs-regexp{color:#e9c062}.hljs-doctag,.hljs-section,.hljs-title,.hljs-type{color:#ffffb6}.hljs-bullet,.hljs-literal,.hljs-symbol,.hljs-template-variable,.hljs-variable{color:#c6c5fe}.hljs-deletion,.hljs-number{color:#ff73fd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.container{width:100%;margin:20px auto;padding:20px;border-radius:8px;word-wrap:break-word}.postcontent{width:100%;margin-bottom:20px;border-bottom:3px solid #e0f7ff;padding-bottom:10px;word-wrap:break-word}.postcontent:last-child{border-bottom:none}.postcontent h1{margin:0 0 10px;font-size:24px}.postcontent p{margin:0 0 10px;font-size:16px}.postcontent .author{font-size:14px;color:#555}.postcontent .timestamp{font-size:12px;color:#888}.postcontent blockquote{border-left:4px solid #ccc;padding:5px 10px;margin:10px 0;background:#f9f9f9}.postcontent blockquote cite{display:block;text-align:right;font-size:12px;color:#555}.postcontent img{max-width:100%;height:auto;margin:10px 0}.postcontent table{width:100%;border-collapse:collapse;margin:10px 0}.postcontent table th,.postcontent table td{border:1px solid #ddd;padding:8px;text-align:left}.postcontent button{background:#007bff;color:#fff;border:none;padding:10px 20px;font-size:16px;cursor:pointer;border-radius:5px}.postcontent button:hover{background:#0056b3}.comment-container{width:90%;margin:20px auto;border:1px solid #f0f0f0;padding:20px;border-radius:5px;font-family:Arial,sans-serif}.comment-header{background-color:#fff7e6;padding:10px;border-left:5px solid #ff5722;margin:-20px -20px 20px;border-radius:5px 5px 0 0;font-weight:bold}.comment-body{margin-top:10px}.comment-author{font-size:18px;color:#333}.comment-text{font-size:16px;color:#555}.comment-time{text-align:right;color:#999;margin-top:10px}</style><div id=zxsq-markdown-code-tools style=display:none;><span class=show>æ˜¾ç¤ºä»£ç </span><span class=hide>éšè—ä»£ç </span><span class=copy>å¤åˆ¶ä»£ç </span><span class=copysucc style=display:none>ä»£ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿</span></div><script>(function(){function n(n,t=1500){var e=document.createElement("div");e.style.position="fixed",e.style.top="20px",e.style.left="50%",e.style.transform="translateX(-50%)",e.style.padding="10px",e.style.backgroundColor="rgba(0, 0, 0, 0.7)",e.style.color="white",e.style.borderRadius="5px",e.style.zIndex="10000",e.innerHTML=n,document.body.appendChild(e),setTimeout(()=>{document.body.removeChild(e)},t)}function t(t,e){var o=document.createElement("textarea");o.value=t,o.style.position="fixed",o.style.opacity="0",document.body.appendChild(o),o.select();try{document.execCommand("copy")&&n(e)}catch(t){console.error("Failed to copy",t)}document.body.removeChild(o)}function e(){var e=document.getElementById("zxsq-markdown-code-tools"),o=e.querySelector(".show").innerText,c=e.querySelector(".hide").innerText,d=e.querySelector(".copy").innerText,i=e.querySelector(".copysucc").innerText;document.querySelectorAll("pre").forEach(e=>{if("hideCode"===e.firstChild.className||"CopyMyCode"===e.firstChild.className||"showCode"===e.firstChild.className)return;var r=document.createElement("div");r.style.display="flex",r.style.justifyContent="flex-start",r.style.alignItems="center",r.style.marginBottom="10px";var a=document.createElement("em");a.className="CopyMyCode",a.style="cursor:pointer;font-size:12px;color:#369 !important;margin-right:10px;",a.innerText=d,r.appendChild(a),a.onclick=function(){t(this.parentElement.parentElement.lastChild.innerText,i)};var s=document.createElement("em");s.className="hideCode",s.style="cursor:pointer;font-size:12px;color:#369 !important;",s.innerText=c,r.appendChild(s),s.onclick=function(){var n=this.parentElement.parentElement.lastChild;"hideCode"===this.className?(n.style.display="none",this.className="showCode",this.innerText=o):(n.style.display="block",this.className="hideCode",this.innerText=c)},e.insertBefore(r,e.firstChild)})}
window.addEventListener("load",e)})();</script></head><body><div class=container><p>åŸå¸–åœ°å€:https://www.52pojie.cn/thread-2047827-1-1.html</p><div class=postcontent><h1>æ¥¼ä¸»</h1><div class=author>evlon</div><div class=timestamp>2025-7-23 11:46</div><h2 id=53498793_èƒŒæ™¯>èƒŒæ™¯</h2><p>ç ä¸Šçˆ¬ã€<a href=https://www.mashangpa.com/problem-detail/3/ã€‘ä»£ç ä¸­æœ‰ä¸€è¡Œä»£ç ï¼Œåœ¨æ‰“å¼€ rel="noopener noreferrer nofollow" target=_blank>https://www.mashangpa.com/problem-detail/3/ã€‘ä»£ç ä¸­æœ‰ä¸€è¡Œä»£ç ï¼Œåœ¨æ‰“å¼€</a> devtoolçš„æ—¶å€™ï¼Œåå¤æ–­ç‚¹ï¼Œå½±å“è°ƒè¯•ã€‚ æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p><pre><code class=language-js>Â  Â let handler = setInterval(() =&gt; {
Â  Â Â  Â Â  Â Â  Â // ....

Â  Â Â  Â Â  Â Â  Â (function () {
Â  Â Â  Â Â  Â Â  Â }
Â  Â Â  Â Â  Â Â  Â Â  Â  ["constructor"]("debugger")()); 

Â  Â Â  Â Â  Â Â  Â ///...
</code></pre><p>è¿™é‡Œï¼Œå…ˆåˆ›å»ºäº†åŒ¿åå‡½æ•° function(){}ï¼Œç„¶åè®¿é—®è¯¥å‡½æ•°çš„æ„é€ å‡½æ•°ï¼Œå¾—åˆ°æ„é€ å‡½æ•°åï¼Œæ„é€ å‡½æ•°æ‰§è¡Œ debugger</p><h2 id=53498793_è§£å†³æ–¹æ¡ˆï¼ˆä¸€ï¼‰é€šè¿‡æ”¹å†™setinternalï¼Œåœ¨æ‰§è¡ŒæœŸé—´ï¼Œæ›¿æ¢é‡Œé¢çš„-debugger>è§£å†³æ–¹æ¡ˆï¼ˆä¸€ï¼‰é€šè¿‡æ”¹å†™setInternalï¼Œåœ¨æ‰§è¡ŒæœŸé—´ï¼Œæ›¿æ¢é‡Œé¢çš„ debugger</h2><p>æºç å®ç°æ–¹å¼ï¼Œææ€è·¯ï¼Œè®©AIå¸®ä½ å†™å®Œã€‚</p><p>æºç ï¼š<a href=https://github.com/evlon/hook-loadjs-disable-disable-devtool/raw/refs/heads/main/disable-debugger.js rel="noopener noreferrer nofollow" target=_blank>https://github.com/evlon/hook-loadjs-disable-disable-devtool/raw/refs/heads/main/disable-debugger.js</a></p><pre><code class=language-js>// ==UserScript==
// <a href="https://www.52pojie.cn/home.php?mod=space&uid=170990" target=_blank>@name</a>Â  Â Â  Â Â  Â æ‰§è¡Œæ—¶æ‹¦æˆªdebugger - ä¿æŠ¤é—­åŒ…
// <a href="https://www.52pojie.cn/home.php?mod=space&uid=467642" target=_blank>@namespace</a>Â  Â  http://tampermonkey.net/
// <a href="https://www.52pojie.cn/home.php?mod=space&uid=1248337" target=_blank>@version</a>Â  Â Â  Â 3.0
// @descriptionÂ Â åœ¨setInterval/setTimeoutæ‰§è¡Œæ—¶åŠ¨æ€æ›¿æ¢debuggerï¼Œä¿æŠ¤é—­åŒ…å˜é‡
// <a href="https://www.52pojie.cn/home.php?mod=space&uid=686208" target=_blank>@AuThor</a>Â  Â Â  Â  You
// <a href="https://www.52pojie.cn/home.php?mod=space&uid=195849" target=_blank>@match</a>Â  Â Â  Â Â Â *://*/*
// <a href="https://www.52pojie.cn/home.php?mod=space&uid=609072" target=_blank>@grant</a>Â  Â Â  Â Â Â none
// @run-atÂ  Â Â  Â  document-start
// ==/UserScript==

(function() {
Â  Â  'use strict';

Â  Â  // æ–¹æ¡ˆ1: Hook setInterval/setTimeoutï¼ŒåŠ¨æ€å¤„ç†å‡½æ•°å­—ç¬¦ä¸²
Â  Â  const originalSetInterval = window.setInterval;
Â  Â  const originalSetTimeout = window.setTimeout;
Â  Â  const originalFunction = window.Function;

Â  Â  // åˆ›å»ºå®‰å…¨çš„å‡½æ•°æ‰§è¡Œç¯å¢ƒ
Â  Â  function createSafeFunction(originalFunc, context = null) {
Â  Â Â  Â Â Â if (typeof originalFunc === 'string') {
Â  Â Â  Â Â  Â Â  Â // å¦‚æœä¼ å…¥çš„æ˜¯å­—ç¬¦ä¸²ï¼Œå…ˆæ¸…ç†debugger
Â  Â Â  Â Â  Â Â  Â const cleanCode = originalFunc.replace(/debugger\s*;?/gi, '/* debugger removed */');
Â  Â Â  Â Â  Â Â  Â console.log('ğŸ›¡ï¸ æ¸…ç†å­—ç¬¦ä¸²å‡½æ•°ä¸­çš„debugger');
Â  Â Â  Â Â  Â Â  Â return new originalFunction(cleanCode);
Â  Â Â  Â Â Â } else if (typeof originalFunc === 'function') {
Â  Â Â  Â Â  Â Â  Â // å¦‚æœæ˜¯å‡½æ•°ï¼Œåˆ›å»ºåŒ…è£…å™¨åœ¨æ‰§è¡Œæ—¶æ‹¦æˆªdebugger
Â  Â Â  Â Â  Â Â  Â return function(...args) {
Â  Â Â  Â Â  Â Â  Â Â  Â  try {
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â Â // ä¸´æ—¶æ›¿æ¢Functionæ„é€ å‡½æ•°
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â Â const tempFunction = window.Function;
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â Â window.Function = function(...funcArgs) {
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â const code = funcArgs[funcArgs.length - 1] || '';
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â if (typeof code === 'string' &amp;&amp; /debugger/i.test(code)) {
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â  console.log('ğŸ›¡ï¸ æ‰§è¡Œæ—¶æ‹¦æˆªdebugger:', code);
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â  funcArgs[funcArgs.length - 1] = code.replace(/debugger\s*;?/gi, '/* blocked */');
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â }
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â return tempFunction.apply(this, funcArgs);
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â Â };

Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â Â // æ‰§è¡ŒåŸå§‹å‡½æ•°
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â Â const result = originalFunc.apply(context || this, args);

Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â Â // æ¢å¤Functionæ„é€ å‡½æ•°
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â Â window.Function = tempFunction;

Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â Â return result;
Â  Â Â  Â Â  Â Â  Â Â  Â  } catch (error) {
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â Â // æ¢å¤Functionæ„é€ å‡½æ•°ï¼ˆé”™è¯¯æƒ…å†µï¼‰
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â Â window.Function = originalFunction;

Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â Â // å¦‚æœé”™è¯¯æ˜¯ç”±debuggerå¼•èµ·çš„ï¼Œå¿½ç•¥å®ƒ
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â Â if (error.toString().includes('debugger') || error.name === 'Error') {
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â console.log('ğŸ›¡ï¸ å·²é˜»æ­¢debuggeræ‰§è¡Œ');
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â return;
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â Â }
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â Â throw error;
Â  Â Â  Â Â  Â Â  Â Â  Â  }
Â  Â Â  Â Â  Â Â  Â };
Â  Â Â  Â Â Â }
Â  Â Â  Â Â Â return originalFunc;
Â  Â  }

Â  Â  // Hook setInterval
Â  Â  window.setInterval = function(callback, delay, ...args) {
Â  Â Â  Â Â Â console.log('ğŸ” æ‹¦æˆªsetIntervalè°ƒç”¨');
Â  Â Â  Â Â Â const safeCallback = createSafeFunction(callback);
Â  Â Â  Â Â Â return originalSetInterval.call(this, safeCallback, delay, ...args);
Â  Â  };

Â  Â  // Hook setTimeoutÂ Â 
Â  Â  window.setTimeout = function(callback, delay, ...args) {
Â  Â Â  Â Â Â console.log('ğŸ” æ‹¦æˆªsetTimeoutè°ƒç”¨');
Â  Â Â  Â Â Â const safeCallback = createSafeFunction(callback);
Â  Â Â  Â Â Â return originalSetTimeout.call(this, safeCallback, delay, ...args);
Â  Â  };

Â  Â  // æ–¹æ¡ˆ2: æ›´æ¿€è¿›çš„æ–¹å¼ - è¿è¡Œæ—¶evalæ‹¦æˆª
Â  Â  const originalEval = window.eval;
Â  Â  window.eval = function(code) {
Â  Â Â  Â Â Â if (typeof code === 'string' &amp;&amp; /debugger/i.test(code)) {
Â  Â Â  Â Â  Â Â  Â console.log('ğŸ›¡ï¸ evalä¸­æ‹¦æˆªdebugger');
Â  Â Â  Â Â  Â Â  Â code = code.replace(/debugger\s*;?/gi, '/* debugger blocked in eval */');
Â  Â Â  Â Â Â }
Â  Â Â  Â Â Â return originalEval.call(this, code);
Â  Â  };

Â  Â  // æ–¹æ¡ˆ3: å…¨å±€Functionæ„é€ å‡½æ•°æ‹¦æˆªï¼ˆä¿ç•™åŸæœ‰é€»è¾‘ï¼‰
Â  Â  window.Function = function(...args) {
Â  Â Â  Â Â Â const code = args[args.length - 1] || '';
Â  Â Â  Â Â Â if (typeof code === 'string' &amp;&amp; /debugger/i.test(code)) {
Â  Â Â  Â Â  Â Â  Â console.log('ğŸ›¡ï¸ Functionæ„é€ å‡½æ•°æ‹¦æˆªdebugger');
Â  Â Â  Â Â  Â Â  Â args[args.length - 1] = code.replace(/debugger\s*;?/gi, '/* debugger blocked */');
Â  Â Â  Â Â Â }
Â  Â Â  Â Â Â return originalFunction.apply(this, args);
Â  Â  };

Â  Â  // ä¿æŒFunctionçš„åŸå‹é“¾
Â  Â  window.Function.prototype = originalFunction.prototype;

Â  Â  // æ–¹æ¡ˆ4: æœ€åé˜²çº¿ - é‡å†™Function.prototype.constructor
Â  Â  Object.defineProperty(Function.prototype, 'constructor', {
Â  Â Â  Â Â Â get: function() {
Â  Â Â  Â Â  Â Â  Â return window.Function;
Â  Â Â  Â Â Â },
Â  Â Â  Â Â Â enumerable: false,
Â  Â Â  Â Â Â configurable: true
Â  Â  });

Â  Â  // æ–¹æ¡ˆ5: å¤„ç†å¯èƒ½çš„å¼‚å¸¸æƒ…å†µ - å…¨å±€é”™è¯¯å¤„ç†
Â  Â  const originalErrorHandler = window.onerror;
Â  Â  window.onerror = function(message, source, lineno, colno, error) {
Â  Â Â  Â Â Â // å¦‚æœé”™è¯¯ä¸debuggerç›¸å…³ï¼Œé™é»˜å¤„ç†
Â  Â Â  Â Â Â if (message &amp;&amp; message.toString().toLowerCase().includes('debugger')) {
Â  Â Â  Â Â  Â Â  Â console.log('ğŸ›¡ï¸ å·²é™é»˜å¤„ç†debuggerç›¸å…³é”™è¯¯');
Â  Â Â  Â Â  Â Â  Â return true; // é˜»æ­¢é”™è¯¯å†’æ³¡
Â  Â Â  Â Â Â }

Â  Â Â  Â Â Â // å…¶ä»–é”™è¯¯æ­£å¸¸å¤„ç†
Â  Â Â  Â Â Â if (originalErrorHandler) {
Â  Â Â  Â Â  Â Â  Â return originalErrorHandler.call(this, message, source, lineno, colno, error);
Â  Â Â  Â Â Â }
Â  Â Â  Â Â Â return false;
Â  Â  };

Â  Â  // æ–¹æ¡ˆ6: ç‰¹æ®Šæƒ…å†µ - å¤„ç†é€šè¿‡å­—ç¬¦ä¸²åˆ›å»ºçš„å®šæ—¶å™¨
Â  Â  // é‡å†™åŸç”Ÿæ–¹æ³•ï¼Œç¡®ä¿å­—ç¬¦ä¸²å‚æ•°è¢«æ¸…ç†
Â  Â  const createTimerHook = (originalMethod, methodName) =&gt; {
Â  Â Â  Â Â Â return function(callback, delay, ...args) {
Â  Â Â  Â Â  Â Â  Â if (typeof callback === 'string') {
Â  Â Â  Â Â  Â Â  Â Â  Â  console.log(`ğŸ” å‘ç°${methodName}ä¸­çš„å­—ç¬¦ä¸²å›è°ƒï¼Œæ£€æŸ¥debugger`);
Â  Â Â  Â Â  Â Â  Â Â  Â  if (/debugger/i.test(callback)) {
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â Â console.log(`ğŸ›¡ï¸ ${methodName}å­—ç¬¦ä¸²å›è°ƒä¸­å‘ç°debuggerï¼Œå·²æ¸…ç†`);
Â  Â Â  Â Â  Â Â  Â Â  Â Â  Â Â Â callback = callback.replace(/debugger\s*;?/gi, '/* debugger removed */');
Â  Â Â  Â Â  Â Â  Â Â  Â  }
Â  Â Â  Â Â  Â Â  Â }
Â  Â Â  Â Â  Â Â  Â return originalMethod.call(this, callback, delay, ...args);
Â  Â Â  Â Â Â };
Â  Â  };

Â  Â  // åº”ç”¨åˆ°æ›´å¤šå®šæ—¶å™¨æ–¹æ³•
Â  Â  window.setInterval = createTimerHook(originalSetInterval, 'setInterval');
Â  Â  window.setTimeout = createTimerHook(originalSetTimeout, 'setTimeout');

Â  Â  // æ–¹æ¡ˆ7: requestAnimationFrameä¹Ÿå¯èƒ½è¢«åˆ©ç”¨
Â  Â  if (window.requestAnimationFrame) {
Â  Â Â  Â Â Â const originalRAF = window.requestAnimationFrame;
Â  Â Â  Â Â Â window.requestAnimationFrame = function(callback) {
Â  Â Â  Â Â  Â Â  Â const safeCallback = createSafeFunction(callback);
Â  Â Â  Â Â  Â Â  Â return originalRAF.call(this, safeCallback);
Â  Â Â  Â Â Â };
Â  Â  }

Â  Â  // æµ‹è¯•æˆ‘ä»¬çš„ä¿æŠ¤æ˜¯å¦æœ‰æ•ˆ
Â  Â  console.log('ğŸ›¡ï¸ å…¨æ–¹ä½debuggerä¿æŠ¤å·²æ¿€æ´»');

Â  Â  // å»¶è¿Ÿæµ‹è¯•ï¼Œç¡®ä¿é¡µé¢åŠ è½½åè¿›è¡Œ
Â  Â  setTimeout(() =&gt; {
Â  Â Â  Â Â Â console.log('ğŸ§ª å¼€å§‹æµ‹è¯•ä¿æŠ¤æ•ˆæœ...');

Â  Â Â  Â Â Â // æµ‹è¯•1: setInterval + Functionæ„é€ å‡½æ•°
Â  Â Â  Â Â Â try {
Â  Â Â  Â Â  Â Â  Â const testInterval = setInterval(() =&gt; {
Â  Â Â  Â Â  Â Â  Â Â  Â  (function(){}["constructor"]("console.log('æµ‹è¯•é€šè¿‡ï¼Œdebuggerå·²è¢«é˜»æ­¢')"))();
Â  Â Â  Â Â  Â Â  Â }, 1000);

Â  Â Â  Â Â  Â Â  Â setTimeout(() =&gt; clearInterval(testInterval), 2000);
Â  Â Â  Â Â  Â Â  Â console.log('âœ… setInterval + constructor æµ‹è¯•å¯åŠ¨');
Â  Â Â  Â Â Â } catch(e) {
Â  Â Â  Â Â  Â Â  Â console.log('âŒ setIntervalæµ‹è¯•å¤±è´¥:', e);
Â  Â Â  Â Â Â }

Â  Â Â  Â Â Â // æµ‹è¯•2: setTimeout + å­—ç¬¦ä¸²å›è°ƒ
Â  Â Â  Â Â Â try {
Â  Â Â  Â Â  Â Â  Â setTimeout('console.log("å­—ç¬¦ä¸²å›è°ƒæµ‹è¯•é€šè¿‡")', 500);
Â  Â Â  Â Â  Â Â  Â console.log('âœ… setTimeoutå­—ç¬¦ä¸²å›è°ƒæµ‹è¯•å¯åŠ¨');
Â  Â Â  Â Â Â } catch(e) {
Â  Â Â  Â Â  Â Â  Â console.log('âŒ setTimeoutå­—ç¬¦ä¸²æµ‹è¯•å¤±è´¥:', e);
Â  Â Â  Â Â Â }

Â  Â  }, 1000);

})();</code></pre><h2 id=53498793_è§£å†³æ–¹æ¡ˆï¼ˆäºŒï¼‰é€šè¿‡æ”¹å†™æ„é€ å‡½æ•°ï¼Œæ›¿æ¢debugger>è§£å†³æ–¹æ¡ˆï¼ˆäºŒï¼‰é€šè¿‡æ”¹å†™æ„é€ å‡½æ•°ï¼Œæ›¿æ¢debugger</h2><p>ææ€è·¯ï¼Œè®©AIå†™</p><p>æºç è·¯å¾„ï¼š<a href=https://github.com/evlon/hook-loadjs-disable-disable-devtool/raw/refs/heads/main/disable-function-constructor-debugger.js rel="noopener noreferrer nofollow" target=_blank>https://github.com/evlon/hook-loadjs-disable-disable-devtool/raw/refs/heads/main/disable-function-constructor-debugger.js</a></p><pre><code class=language-js>// ==UserScript==
// @nameÂ  Â Â  Â Â  Â ç²¾ç¡®æ‹¦æˆªFunctionæ„é€ å‡½æ•°è°ƒç”¨
// @namespaceÂ  Â  http://tampermonkey.net/
// @versionÂ  Â Â  Â 2.0
// @descriptionÂ Â ä¸“é—¨å¤„ç† (function(){}["constructor"]("debugger")) è¿™ç§è°ƒç”¨
// @authorÂ  Â Â  Â  You
// @matchÂ  Â Â  Â Â Â *://*/*
// @grantÂ  Â Â  Â Â Â none
// @run-atÂ  Â Â  Â  document-start
// ==/UserScript==

(function() {
Â  Â  'use strict';

Â  Â  // ä¿å­˜åŸå§‹Functionæ„é€ å‡½æ•°
Â  Â  const OriginalFunction = Function;

Â  Â  // åˆ›å»ºæˆ‘ä»¬çš„ä»£ç†Function
Â  Â  function ProxyFunction(...args) {
Â  Â Â  Â Â Â const code = args.length &gt; 0 ? args[args.length - 1] : '';

Â  Â Â  Â Â Â if (typeof code === 'string' &amp;&amp; /debugger/i.test(code)) {
Â  Â Â  Â Â  Â Â  Â console.log('ğŸ›¡ï¸ æ‹¦æˆªåˆ°debuggerè°ƒç”¨:', code);
Â  Â Â  Â Â  Â Â  Â // æ›¿æ¢debuggerä¸ºç©ºæ“ä½œæˆ–æ³¨é‡Š
Â  Â Â  Â Â  Â Â  Â args[args.length - 1] = code.replace(/debugger\s*;?/gi, '/* debugger blocked */');
Â  Â Â  Â Â Â }

Â  Â Â  Â Â Â // ä½¿ç”¨åŸå§‹Functionæ„é€ å‡½æ•°åˆ›å»ºå‡½æ•°
Â  Â Â  Â Â Â return OriginalFunction.apply(this, args);
Â  Â  }

Â  Â  // é‡è¦ï¼šä¿æŒåŸå‹é“¾å’Œå±æ€§
Â  Â  ProxyFunction.prototype = OriginalFunction.prototype;
Â  Â  ProxyFunction.constructor = OriginalFunction.constructor;

Â  Â  // å¤åˆ¶æ‰€æœ‰é™æ€å±æ€§å’Œæ–¹æ³•
Â  Â  Object.getOwnPropertyNames(OriginalFunction).forEach(prop =&gt; {
Â  Â Â  Â Â Â if (prop !== 'length' &amp;&amp; prop !== 'name' &amp;&amp; prop !== 'prototype') {
Â  Â Â  Â Â  Â Â  Â try {
Â  Â Â  Â Â  Â Â  Â Â  Â  ProxyFunction[prop] = OriginalFunction[prop];
Â  Â Â  Â Â  Â Â  Â } catch (e) {
Â  Â Â  Â Â  Â Â  Â Â  Â  // æŸäº›å±æ€§å¯èƒ½ä¸å¯å†™
Â  Â Â  Â Â  Â Â  Â }
Â  Â Â  Â Â Â }
Â  Â  });

Â  Â  // å…³é”®ï¼šæ›¿æ¢å…¨å±€Function
Â  Â  window.Function = ProxyFunction;

Â  Â  // æ›´å…³é”®ï¼šæ›¿æ¢Function.prototype.constructor
Â  Â  // è¿™æ˜¯å¤„ç† (function(){}["constructor"]) çš„æ ¸å¿ƒÂ  Â  
Â  Â  // è¿™æ˜¯å¤„ç† (function(){}["constructor"]) çš„æ ¸å¿ƒ
Â  Â  Object.defineProperty(Function.prototype, 'constructor', {
Â  Â Â  Â Â Â get: function() {
Â  Â Â  Â Â  Â Â  Â return ProxyFunction;
Â  Â Â  Â Â Â },
Â  Â Â  Â Â Â set: function(value) {
Â  Â Â  Â Â  Â Â  Â // å¯ä»¥é€‰æ‹©å¿½ç•¥è®¾ç½®ï¼Œæˆ–è€…å…è®¸è®¾ç½®
Â  Â Â  Â Â Â },
Â  Â Â  Â Â Â enumerable: false,
Â  Â Â  Â Â Â configurable: true
Â  Â  });

Â  Â  // é¢å¤–ä¿æŠ¤ï¼šå¤„ç†å¯èƒ½çš„ç»•è¿‡å°è¯•
Â  Â  // é˜²æ­¢é€šè¿‡ Object.getPrototypeOf ç­‰æ–¹å¼è·å–åŸå§‹constructor
Â  Â  const originalGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
Â  Â  Object.getOwnPropertyDescriptor = function(obj, prop) {
Â  Â Â  Â Â Â const desc = originalGetOwnPropertyDescriptor.call(this, obj, prop);
Â  Â Â  Â Â Â if (obj === Function.prototype &amp;&amp; prop === 'constructor' &amp;&amp; desc) {
Â  Â Â  Â Â  Â Â  Â desc.value = ProxyFunction;
Â  Â Â  Â Â Â }
Â  Â Â  Â Â Â return desc;
Â  Â  };

Â  Â  // æµ‹è¯•ä»£ç  - éªŒè¯æˆ‘ä»¬çš„æ‹¦æˆªæ˜¯å¦æœ‰æ•ˆ
Â  Â  console.log('ğŸ›¡ï¸ åè°ƒè¯•ä¿æŠ¤å·²æ¿€æ´»');

Â  Â  // æµ‹è¯•1: ç›´æ¥è°ƒç”¨
Â  Â  try {
Â  Â Â  Â Â Â Function('debugger');
Â  Â Â  Â Â Â console.log('âœ… ç›´æ¥Functionè°ƒç”¨å·²è¢«å¤„ç†');
Â  Â  } catch(e) {
Â  Â Â  Â Â Â console.log('âŒ ç›´æ¥Functionè°ƒç”¨å¤±è´¥:', e);
Â  Â  }

Â  Â  // æµ‹è¯•2: é€šè¿‡constructorè°ƒç”¨ - è¿™æ˜¯å…³é”®æµ‹è¯•
Â  Â  try {
Â  Â Â  Â Â Â (function(){}["constructor"]("debugger"))();
Â  Â Â  Â Â Â console.log('âœ… constructoræ–¹å¼è°ƒç”¨å·²è¢«å¤„ç†');
Â  Â  } catch(e) {
Â  Â Â  Â Â Â console.log('âŒ constructoræ–¹å¼è°ƒç”¨å¤±è´¥:', e);
Â  Â  }

Â  Â  // æµ‹è¯•3: å…¶ä»–å¯èƒ½çš„è°ƒç”¨æ–¹å¼
Â  Â  try {
Â  Â Â  Â Â Â (function(){}).constructor("debugger")();
Â  Â Â  Â Â Â console.log('âœ… ç‚¹å·è®¿é—®constructorå·²è¢«å¤„ç†');
Â  Â  } catch(e) {
Â  Â Â  Â Â Â console.log('âŒ ç‚¹å·è®¿é—®constructorå¤±è´¥:', e);
Â  Â  }

Â  Â  // é¢å¤–çš„ä¿æŠ¤å±‚ï¼šå¦‚æœç½‘ç«™å°è¯•è¿˜åŸFunction
Â  Â  const interval = setInterval(() =&gt; {
Â  Â Â  Â Â Â if (window.Function !== ProxyFunction) {
Â  Â Â  Â Â  Â Â  Â console.log('ğŸ”„ æ£€æµ‹åˆ°Functionè¢«è¿˜åŸï¼Œé‡æ–°åº”ç”¨ä¿æŠ¤');
Â  Â Â  Â Â  Â Â  Â window.Function = ProxyFunction;
Â  Â Â  Â Â Â }
Â  Â Â  Â Â Â if (Function.prototype.constructor !== ProxyFunction) {
Â  Â Â  Â Â  Â Â  Â console.log('ğŸ”„ æ£€æµ‹åˆ°constructorè¢«è¿˜åŸï¼Œé‡æ–°åº”ç”¨ä¿æŠ¤');
Â  Â Â  Â Â  Â Â  Â Object.defineProperty(Function.prototype, 'constructor', {
Â  Â Â  Â Â  Â Â  Â Â  Â  get: function() { return ProxyFunction; },
Â  Â Â  Â Â  Â Â  Â Â  Â  enumerable: false,
Â  Â Â  Â Â  Â Â  Â Â  Â  configurable: true
Â  Â Â  Â Â  Â Â  Â });
Â  Â Â  Â Â Â }
Â  Â  }, 100);

Â  Â  // æ¸…ç†å®šæ—¶å™¨ï¼ˆå¯é€‰ï¼Œ5ç§’ååœæ­¢æ£€æŸ¥ï¼‰
Â  Â  setTimeout(() =&gt; {
Â  Â Â  Â Â Â clearInterval(interval);
Â  Â Â  Â Â Â console.log('ğŸ›¡ï¸ ä¿æŠ¤ç›‘æ§å·²åœæ­¢');
Â  Â  }, 5000);

})();</code></pre><p>éœ€è¦æ³¨æ„çš„å…³é”®ç‚¹ï¼Œåœ¨æ³¨é‡Šä¸­ï¼šè¿™æ˜¯å¤„ç† (function(){}["constructor"]) çš„æ ¸å¿ƒ</p><div class=parsedown-markdown-end_FLAG_ZXSQ style=display:none></div></div></div></body></html>